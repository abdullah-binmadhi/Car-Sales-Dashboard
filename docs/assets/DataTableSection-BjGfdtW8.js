import{u as f,r as p,f as N,j as e}from"./index-PcbulNTI.js";const w=(i,x)=>{if(!i||i.length===0)return;const s=Object.keys(i[0]).join(","),u=i.map(o=>Object.values(o).map(d=>typeof d=="string"?`"${d}"`:d).join(",")),r=[s,...u].join(`
`),g=new Blob([r],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(g),a=document.createElement("a");a.setAttribute("href",l),a.setAttribute("download",x),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},k=({onViewCar:i})=>{const{filteredData:x}=f(),[s,u]=p.useState({key:null,direction:"asc"}),[r,g]=p.useState(1),l=10,a=N(),o=p.useMemo(()=>s.key?[...x].sort((t,n)=>t[s.key]<n[s.key]?s.direction==="asc"?-1:1:t[s.key]>n[s.key]?s.direction==="asc"?1:-1:0):x,[x,s]),d=p.useMemo(()=>{const t=(r-1)*l;return o.slice(t,t+l)},[o,r]),m=t=>{let n="asc";s.key===t&&s.direction==="asc"&&(n="desc"),u({key:t,direction:n})},j=t=>{g(t)},y=t=>{i?i(t):a(`/car/${t.companyName}-${t.modelName}`)},v=()=>{w(o,"car_data.csv")},c=Math.ceil(o.length/l);return e.jsxs("div",{className:"glass rounded-2xl border border-gray-700/50 overflow-hidden animate-stagger",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Vehicle Data"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Detailed information about vehicles in the dataset"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm flex items-center",onClick:v,children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export CSV"]}),e.jsxs("button",{className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export PNG"]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[e.jsxs("div",{className:"text-gray-400 text-sm",children:["Showing ",e.jsx("span",{className:"font-medium text-white",children:d.length})," of"," ",e.jsx("span",{className:"font-medium text-white",children:o.length})," vehicles"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Items per page:"}),e.jsxs("select",{className:"bg-gray-700 text-white rounded px-2 py-1 text-sm",value:l,onChange:t=>{},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"})]})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>m("companyName"),children:e.jsxs("div",{className:"flex items-center",children:["Brand",s.key==="companyName"&&e.jsx("span",{className:"ml-1",children:s.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>m("modelName"),children:e.jsxs("div",{className:"flex items-center",children:["Model",s.key==="modelName"&&e.jsx("span",{className:"ml-1",children:s.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>m("engine"),children:e.jsxs("div",{className:"flex items-center",children:["Engine",s.key==="engine"&&e.jsx("span",{className:"ml-1",children:s.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>m("horsePower"),children:e.jsxs("div",{className:"flex items-center",children:["Horsepower",s.key==="horsePower"&&e.jsx("span",{className:"ml-1",children:s.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>m("price"),children:e.jsxs("div",{className:"flex items-center",children:["Price",s.key==="price"&&e.jsx("span",{className:"ml-1",children:s.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700/50",children:d.map((t,n)=>e.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:t.companyName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:t.modelName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:t.engine}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:t.horsePower}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:["$",t.price?.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"text-blue-400 hover:text-blue-300 flex items-center",onClick:()=>y(t),children:[e.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]}),e.jsxs("button",{className:"text-green-400 hover:text-green-300 flex items-center",onClick:()=>a("/compare"),children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Compare"]}),e.jsxs("button",{className:"text-yellow-400 hover:text-yellow-300 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Favorite"]})]})})]},n))})]})}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/30 border-t border-gray-700/50 flex flex-col md:flex-row items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-400 mb-4 md:mb-0",children:["Page ",e.jsx("span",{className:"font-medium text-white",children:r})," of"," ",e.jsx("span",{className:"font-medium text-white",children:c})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>j(Math.max(1,r-1)),disabled:r===1,className:`px-3 py-1 rounded text-sm flex items-center ${r===1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),[...Array(Math.min(5,c))].map((t,n)=>{const h=Math.max(1,Math.min(c-4,r-2))+n;return h>c?null:e.jsx("button",{onClick:()=>j(h),className:`px-3 py-1 rounded text-sm ${r===h?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:h},h)}),e.jsxs("button",{onClick:()=>j(Math.min(c,r+1)),disabled:r===c,className:`px-3 py-1 rounded text-sm flex items-center ${r===c?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:["Next",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})};export{k as default};
