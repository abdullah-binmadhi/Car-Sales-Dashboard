import{u as j,r as p,f,j as e}from"./index-DeYTmMum.js";const w=(c,x)=>{if(!c||c.length===0)return;const t=Object.keys(c[0]).join(","),g=c.map(i=>Object.values(i).map(o=>typeof o=="string"?`"${o}"`:o).join(",")),a=[t,...g].join(`
`),y=new Blob([a],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(y),r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",x),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},k=({onViewCar:c})=>{const{filteredData:x}=j(),[t,g]=p.useState({key:null,direction:"asc"}),[a,y]=p.useState(1),d=10,r=f(),i=p.useMemo(()=>t.key?[...x].sort((s,n)=>s[t.key]<n[t.key]?t.direction==="asc"?-1:1:s[t.key]>n[t.key]?t.direction==="asc"?1:-1:0):x,[x,t]),o=p.useMemo(()=>{const s=(a-1)*d;return i.slice(s,s+d)},[i,a]),m=s=>{let n="asc";t.key===s&&t.direction==="asc"&&(n="desc"),g({key:s,direction:n})},u=s=>{y(s)},b=s=>{c?c(s):r(`/car/${s.companyName}-${s.modelName}`)},N=()=>{w(i,"car_data.csv")},l=Math.ceil(i.length/d);return e.jsxs("div",{className:"glass rounded-2xl border border-gray-700/50 overflow-hidden animate-stagger",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Vehicle Data"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[e.jsxs("div",{className:"text-gray-400",children:["Showing ",o.length," of ",i.length," vehicles"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",onClick:N,children:"Export CSV"}),e.jsx("button",{className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",children:"Export PNG"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>m("companyName"),children:e.jsxs("div",{className:"flex items-center",children:["Brand",t.key==="companyName"&&e.jsx("span",{className:"ml-1",children:t.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>m("modelName"),children:e.jsxs("div",{className:"flex items-center",children:["Model",t.key==="modelName"&&e.jsx("span",{className:"ml-1",children:t.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>m("engine"),children:e.jsxs("div",{className:"flex items-center",children:["Engine",t.key==="engine"&&e.jsx("span",{className:"ml-1",children:t.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>m("horsePower"),children:e.jsxs("div",{className:"flex items-center",children:["Horsepower",t.key==="horsePower"&&e.jsx("span",{className:"ml-1",children:t.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>m("price"),children:e.jsxs("div",{className:"flex items-center",children:["Price",t.key==="price"&&e.jsx("span",{className:"ml-1",children:t.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700/50",children:o.map((s,n)=>e.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:s.companyName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:s.modelName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:s.engine}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:s.horsePower}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:["$",s.price?.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-400 hover:text-blue-300",onClick:()=>b(s),children:"View"}),e.jsx("button",{className:"text-green-400 hover:text-green-300",onClick:()=>r("/compare"),children:"Compare"}),e.jsx("button",{className:"text-yellow-400 hover:text-yellow-300",children:"Favorite"})]})})]},n))})]})}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/30 border-t border-gray-700/50 flex flex-col md:flex-row items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-400 mb-4 md:mb-0",children:["Page ",a," of ",l]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>u(Math.max(1,a-1)),disabled:a===1,className:`px-3 py-1 rounded text-sm ${a===1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:"Previous"}),[...Array(Math.min(5,l))].map((s,n)=>{const h=Math.max(1,Math.min(l-4,a-2))+n;return h>l?null:e.jsx("button",{onClick:()=>u(h),className:`px-3 py-1 rounded text-sm ${a===h?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:h},h)}),e.jsx("button",{onClick:()=>u(Math.min(l,a+1)),disabled:a===l,className:`px-3 py-1 rounded text-sm ${a===l?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:"Next"})]})]})]})};export{k as default};
